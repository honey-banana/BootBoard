<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.projectWG.board.mapper.BoardMapper"> <!-- BoardMapper interface 위치 -->
    <select id="selectAllWithKeyword" resultType="com.projectWG.board.vo.Board">
        SELECT
        board_no, board_title, register, reg_date
        FROM BOARD
        <if test="searchType == 'title'">
            WHERE
            board_title
            LIKE
            concat('%', #{keyword}, '%') AND del_yn LIKE ('N')
        </if>
        <if test="searchType == 'register'">
            WHERE
            register
            LIKE
            concat('%', #{keyword}, '%') AND del_yn LIKE ('N')
        </if>
        ORDER BY board_no DESC
        LIMIT #{skip}, #{amount}
    </select>

    <select id="getBoardTotal" resultType="int">
        SELECT
        count(*)
        FROM
        BOARD
        <if test="searchType == 'title'">
            WHERE
            board_title
            LIKE
            concat('%', #{keyword}, '%') AND del_yn LIKE ('N')
        </if>
        <if test="searchType == 'register'">
            WHERE
            register
            LIKE
            concat('%', #{keyword}, '%') AND del_yn LIKE ('N')
        </if>
    </select>
</mapper>